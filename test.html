<html>
<head>
    <style type="text/css">
        body {
            height: 100%;
            overflow: hidden;
            margin: 0;
        }
        canvas {
            margin: 0;
        }
    </style>
    <script type="application/javascript">
        function game() {
            var canvas = document.getElementById("canvas");
            var body = document.body,
                html = document.documentElement;

            var height = Math.max( body.scrollHeight, body.offsetHeight,
                html.clientHeight, html.scrollHeight, html.offsetHeight );

            var width = Math.max( body.scrollWidth, body.offsetWidth,
                html.clientWidth, html.scrollWidth, html.offsetWidth );

            var ctx = canvas.getContext("2d");
            // body.css("overflow", "hidden");
            ctx.canvas.height = height;
            ctx.canvas.width = width;  // Setting canvas size

            ctx.fillStyle = "rgb(0,0,0)";
            ctx.fillRect (0, 0, width, height);


            var ball = {
                x: 100,
                y: 100,
                vx: 5,
                vy: 1,
                radius: 25,
                color: 'blue',
                draw: function() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);
                    ctx.closePath();
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
            };


            function clear() {
                ctx.fillStyle = 'rgba(0, 0, 0, 1)';  // set background color
                ctx.fillRect(0,0,canvas.width,canvas.height);
            }

            function draw() {
                clear();
                ball.draw();
                ball.x += ball.vx;
                ball.y += ball.vy;

                if (ball.y + ball.vy > canvas.height || ball.y + ball.vy < 0) {
                    ball.vy = -ball.vy;
                }
                if (ball.x + ball.vx > canvas.width || ball.x + ball.vx < 0) {
                    ball.vx = -ball.vx;
                }
                raf = window.requestAnimationFrame(draw);
            }
            function keyDown(e) {
                var keycode = e.which;
                var realkey = String.fromCharCode(e.which);
                // alert(keycode);
                if (keycode === 65){
                    clear();
                    ball.vx = ball.vx * 0.1;
                    draw();
                }
                if (keycode === 68){
                    clear();
                    ball.vx += 0.1;
                    draw();
                }
            }
            document.onkeydown = keyDown;

            canvas.addEventListener('mousemove', function(e) {
                // clear();
                // ball.x = e.clientX;
                // ball.y = e.clientY;
                // console.log("mouse location:", e.clientX, e.clientY);


                // ball.draw();

            });

            canvas.addEventListener('mouseout', function(e) {
                clear();
            });

            canvas.addEventListener('mouseover', function(e) {
                raf = window.requestAnimationFrame(draw);
            });


            canvas.addEventListener('click', function(e) {
                clear();
                ball.x = e.clientX;
                ball.y = e.clientY;
                ball.draw()
            });

        }


    </script>
</head>
<body onload="game();">
<canvas id="canvas"></canvas>
</body>
</html>